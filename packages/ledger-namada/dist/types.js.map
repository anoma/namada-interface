{"version":3,"file":"types.js","sourceRoot":"","sources":["../src/types.ts"],"names":[],"mappings":";;;AAiEA,MAAa,SAAS;IAUpB,YAAY,SAAsB;QAChC,IAAI,SAAS,IAAI,IAAI,EAAE;YACrB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;YACrB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;YAC1B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;YACjC,IAAI,CAAC,OAAO,qCAA6B,CAAA;YACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;YACrB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;YACtC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;SACnB;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;YACpB,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAA;YACxB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAA;YACtC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAA;YAChC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAA;YACpC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC,eAAe,CAAA;YAChD,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAA;SACnC;IACH,CAAC;CACF;AA7BD,8BA6BC","sourcesContent":["import { LedgerError, SignatureType } from './common'\n\nexport interface ResponseBase {\n  errorMessage: string\n  returnCode: LedgerError\n}\n\nexport interface ResponseAddress extends ResponseBase {\n  publicKey: Buffer\n  address: Buffer\n}\n\nexport interface ResponseVersion extends ResponseBase {\n  testMode: boolean\n  major: number\n  minor: number\n  patch: number\n  deviceLocked: boolean\n  targetId: string\n}\n\nexport interface ResponseAppInfo extends ResponseBase {\n  appName: string\n  appVersion: string\n  flagLen: number\n  flagsValue: number\n  flagRecovery: boolean\n  flagSignedMcuCode: boolean\n  flagOnboarded: boolean\n  flagPINValidated: boolean\n}\n\nexport interface ResponseDeviceInfo extends ResponseBase {\n  targetId: string\n  seVersion: string\n  flag: string\n  mcuVersion: string\n}\n\nexport interface ResponseShieldedAddress extends ResponseBase {\n  raw_pkd: Buffer\n  bech32m_len: number\n  bech32m_addr: Buffer\n}\n\nexport interface ResponseIncomingViewingKey extends ResponseBase {\n  raw_ivk: Buffer\n}\n\nexport interface ResponseOutgoingViewingKey extends ResponseBase {\n  raw_ovk: Buffer\n}\n\nexport interface ResponseNullifier extends ResponseBase {\n  raw_nf: Buffer\n}\n\nexport interface ISignature {\n  raw: Buffer\n  secIndices: Buffer\n  sigType: SignatureType\n  singlesig: Buffer | null\n  multisigIndices: Buffer\n  multisig: Buffer[]\n}\nexport class Signature implements ISignature {\n  raw: Buffer\n  secIndices: Buffer\n  sigType: SignatureType\n  singlesig: Buffer | null\n  multisigIndices: Buffer\n  multisig: Buffer[]\n\n  isFilled: boolean\n\n  constructor(signature?: ISignature) {\n    if (signature == null) {\n      this.isFilled = false\n      this.raw = Buffer.from([])\n      this.secIndices = Buffer.from([])\n      this.sigType = SignatureType.RawSignature\n      this.singlesig = null\n      this.multisigIndices = Buffer.from([])\n      this.multisig = []\n    } else {\n      this.isFilled = true\n      this.raw = signature.raw\n      this.secIndices = signature.secIndices\n      this.sigType = signature.sigType\n      this.singlesig = signature.singlesig\n      this.multisigIndices = signature.multisigIndices\n      this.multisig = signature.multisig\n    }\n  }\n}\n\nexport interface ResponseSign extends ResponseBase {\n  wrapperSignature: Signature\n  rawSignature: Signature\n}\n"]}